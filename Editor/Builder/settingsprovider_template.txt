using Fsi.Ui.Spacers;
using UnityEditor;
using UnityEditor.UIElements;
using UnityEngine.UIElements;

public static class [NAME]SettingsProvider
{
    [SettingsProvider]
    public static SettingsProvider CreateSettingsProvider()
    {
        SettingsProvider provider = new("[PROJECT]/[NAME]", SettingsScope.Project)
                                    {
                                        label = "[NAME]",
                                        activateHandler = OnActivate,
                                    };
        
        return provider;
    }

    private static void OnActivate(string searchContext, VisualElement root)
    {
        root.style.marginTop = 5;
        root.style.marginRight = 5;
        root.style.marginLeft = 5;
        root.style.marginBottom = 5;
        
        ScrollView scroll = new();
        root.Add(scroll);
    
        SerializedObject settingsProp = [NAME]Settings.GetSerializedSettings();
        
        Label title = new("[NAME] Settings");
        scroll.Add(title);
        scroll.Add(new Spacer());
        scroll.Add(new InspectorElement(settingsProp));
        scroll.Bind(settingsProp);
    }
}